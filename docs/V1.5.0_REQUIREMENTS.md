# yowu-devtools v1.5.0 SRS (Software Requirements Specification)

## Media Tools (Image Studio & Video Studio)

---

## ë¬¸ì„œ ë©”íƒ€

- **í”„ë¡œì íŠ¸ëª…**: tools.yowu.dev (yowu-devtools)
- **ë²„ì „**: v1.5.0
- **ê¸°ëŠ¥ëª…**: Media Tools (Image Studio & Video Studio)
- **ì‘ì„±ì¼**: 2025-12-18
- **ìƒíƒœ**: âœ… êµ¬í˜„ ì™„ë£Œ

---

## 0. ë°°ê²½ ë° ëª©í‘œ

### 0.1 ë°°ê²½

ê°œë°œìë“¤ì´ ìì£¼ ìˆ˜í–‰í•˜ëŠ” ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ì²˜ë¦¬ ì‘ì—…ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë‹ˆì¦ˆê°€ ìˆìŠµë‹ˆë‹¤:

- **ì´ë¯¸ì§€ ì²˜ë¦¬**: ìŠ¤í¬ë¦°ìƒ· í¬ë¡­, ì¸ë„¤ì¼ ìƒì„±, í¬ë§· ë³€í™˜, ë¦¬ì‚¬ì´ì¦ˆ
- **ë¹„ë””ì˜¤ ì²˜ë¦¬**: ì¸ë„¤ì¼ ì¶”ì¶œ, êµ¬ê°„ ìë¥´ê¸°, í¬ë§· ë³€í™˜, í•´ìƒë„ ë³€ê²½
- **í”„ë¼ì´ë²„ì‹œ ìš°ë ¤**: ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ë¯¼ê°í•œ ì´ë¯¸ì§€/ë¹„ë””ì˜¤ë¥¼ ì—…ë¡œë“œí•˜ê¸° êº¼ë ¤í•¨
- **ë¹ ë¥¸ ì‘ì—…**: ê°„ë‹¨í•œ í¸ì§‘ì„ ìœ„í•´ ë¬´ê±°ìš´ ì „ë¬¸ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì—´ê¸° ë²ˆê±°ë¡œì›€

### 0.2 v1.5.0 ëª©í‘œ

1. **Frontend-only ë¯¸ë””ì–´ ì²˜ë¦¬**

   - ì„œë²„ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ì´ë¯¸ì§€/ë¹„ë””ì˜¤ íŒŒì¼ì„ ë¡œë“œ â†’ í¸ì§‘(ì—¬ëŸ¬ ê¸°ëŠ¥ ì¡°í•©) â†’ ê²°ê³¼ ë‹¤ìš´ë¡œë“œ
   - "ë¯¼ê° ë°ì´í„°ëŠ” ë‚´ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì²˜ë¦¬"ë¼ëŠ” í”„ë¡œì íŠ¸ ì² í•™ ìœ ì§€

2. **íŒŒì´í”„ë¼ì¸ ê¸°ë°˜ í¸ì§‘**

   - ì—¬ëŸ¬ í¸ì§‘ ë‹¨ê³„ë¥¼ ì¡°í•©í•˜ì—¬ í•œ ë²ˆì— ì‹¤í–‰
   - í”„ë¦¬ì…‹ ì €ì¥/ê³µìœ  ê¸°ëŠ¥ìœ¼ë¡œ ë°˜ë³µ ì‘ì—… íš¨ìœ¨í™”

3. **ì„±ëŠ¥ ìµœì í™”**

   - ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ì‹œ UI í”„ë¦¬ì§• ë°©ì§€ (Web Worker ê¸°ë°˜)
   - ì‹¤ì‹œê°„ ì§„í–‰ ìƒíƒœ(Progress) í‘œì‹œ
   - ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥

4. **ëª¨ë°”ì¼ ëŒ€ì‘**
   - ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
   - í„°ì¹˜ ê¸°ë°˜ ì¸í„°ë™ì…˜ ì§€ì›

---

## 1. ë²”ìœ„

### 1.1 In Scope

#### âœ¨ **ì‹ ê·œ Tool: Image Studio**

- ì´ë¯¸ì§€ ë¡œë“œ (Drag & Drop, File Picker, Clipboard Paste)
- **Crop**: ììœ ë¹„ìœ¨, ê³ ì •ë¹„ìœ¨(1:1, 4:3, 16:9), ì‚¬ìš©ì ì§€ì • ë¹„ìœ¨
- **Resize**: width/height ì…ë ¥, ë¹„ìœ¨ ì ê¸ˆ, ë³´ê°„ í’ˆì§ˆ ì˜µì…˜
- **Rotate/Flip**: 90ë„ íšŒì „, ìˆ˜í‰/ìˆ˜ì§ ë°˜ì „
- **Convert/Export**: PNG, JPEG, WebP í¬ë§·, í’ˆì§ˆ ì¡°ì ˆ
- íŒŒì´í”„ë¼ì¸ ì¡°í•© ë° ì¼ê´„ ì‹¤í–‰
- í”„ë¦¬ì…‹ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°/ê³µìœ 

#### âœ¨ **ì‹ ê·œ Tool: Video Studio**

- ë¹„ë””ì˜¤ ë¡œë“œ (Drag & Drop, File Picker)
- **Thumbnail**: íŠ¹ì • ì‹œì  í”„ë ˆì„ ì´ë¯¸ì§€ ì¶”ì¶œ
- **Trim**: ì‹œì‘/ì¢…ë£Œ ì‹œê°„ ì§€ì •í•˜ì—¬ êµ¬ê°„ ì¶”ì¶œ
- **Cut**: êµ¬ê°„ ì œê±° ë˜ëŠ” êµ¬ê°„ ë¶„í•  (ë‹¤ì¤‘ í´ë¦½ ìƒì„±)
- **Crop**: ì˜ìƒ ì˜ì—­ ìë¥´ê¸°
- **Resize**: ì¶œë ¥ í•´ìƒë„ ë³€ê²½
- **Export/Convert**: MP4, WebM ì»¨í…Œì´ë„ˆ, í’ˆì§ˆ í”„ë¦¬ì…‹
- íŒŒì´í”„ë¼ì¸ ì¡°í•© ë° ì¼ê´„ ì‹¤í–‰
- ì§„í–‰ë¥  í‘œì‹œ ë° ì·¨ì†Œ ê¸°ëŠ¥

#### ğŸ”§ **ê³µí†µ ê¸°ëŠ¥**

- Chrome Extension í•„ìš” ì—†ìŒ (ìˆœìˆ˜ ë¸Œë¼ìš°ì € ê¸°ëŠ¥ë§Œ ì‚¬ìš©)
- localStorage ì„¤ì • ì €ì¥ (íŒŒì¼ ë°”ì´ë„ˆë¦¬ ì œì™¸)
- í”„ë¦¬ì…‹ ê³µìœ  (ì„¤ì • JSONì„ URL fragmentë¡œ ê³µìœ )
- i18n ì§€ì› (en-US, ko-KR, ja-JP, zh-CN, es-ES)
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

### 1.2 Out of Scope (v1.5.0 ì œì™¸)

- âŒ ì„œë²„ì‚¬ì´ë“œ ì²˜ë¦¬
- âŒ í´ë¼ìš°ë“œ ì €ì¥/ë™ê¸°í™”
- âŒ ë¹„ë””ì˜¤ í•„í„°/íš¨ê³¼ (ìƒ‰ìƒ ë³´ì •, ë¸”ëŸ¬ ë“±)
- âŒ ì˜¤ë””ì˜¤ í¸ì§‘ (ë¹„ë””ì˜¤ ë‚´ ì˜¤ë””ì˜¤ëŠ” ì›ë³¸ ìœ ì§€)
- âŒ ë°°ì¹˜ ì²˜ë¦¬ (ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ì²˜ë¦¬)
- âŒ ë¹„ë””ì˜¤ ì¸ì½”ë”© ê³ ê¸‰ ì˜µì…˜ (ë¹„íŠ¸ë ˆì´íŠ¸, ì½”ë± ìƒì„¸ ì„¤ì •)
- âŒ ë©€í‹°ìŠ¤ë ˆë“œ ffmpeg (SharedArrayBuffer/COOP/COEP í•„ìš”)
- âŒ GIF ìƒì„±/í¸ì§‘
- âŒ ì›Œí„°ë§ˆí¬/í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´

---

## 2. ë¼ìš°íŒ… ë° ë„¤ë¹„ê²Œì´ì…˜

### 2.1 ì‹ ê·œ í˜ì´ì§€

| ë„êµ¬         | ë¼ìš°íŠ¸          | i18n ë¼ìš°íŠ¸ ì˜ˆì‹œ      |
| ------------ | --------------- | --------------------- |
| Image Studio | `/image-studio` | `/ko-KR/image-studio` |
| Video Studio | `/video-studio` | `/ko-KR/video-studio` |

### 2.2 ì‚¬ì´ë“œë°”

- **ì¹´í…Œê³ ë¦¬**: "Media" ê·¸ë£¹ìœ¼ë¡œ ë‘ ë„êµ¬ ë¬¶ìŒ
- **ì•„ì´ì½˜**:
  - Image Studio: `Image` (lucide-react)
  - Video Studio: `Video` (lucide-react)
- **ìœ„ì¹˜**: ê¸°ì¡´ ë„êµ¬ë“¤ í•˜ë‹¨ì— Media ì¹´í…Œê³ ë¦¬ë¡œ ì¶”ê°€

### 2.3 SEO ìµœì í™”

- `vite-plugin-generate-routes.ts`ì— ë„êµ¬ ì •ë³´ ì¶”ê°€
- ë©”íƒ€ íƒœê·¸: title, description, keywords
- sitemap.xmlì— ê²½ë¡œ ì¶”ê°€
- JSON-LD êµ¬ì¡°í™”ëœ ë°ì´í„° ìƒì„±

---

## 3. ê³µí†µ UX/ë™ì‘ ê·œì¹™ (ë‘ ë„êµ¬ ê³µí†µ)

### 3.1 ì…ë ¥/ì €ì¥/ê³µìœ 

#### ì…ë ¥

- **ë‹¨ì¼ íŒŒì¼ 1ê°œ**ë§Œ ì²˜ë¦¬ (ë°°ì¹˜ ì²˜ë¦¬ ë¯¸ì§€ì›)
- **Drag & Drop**: ì—ë””í„° ì˜ì—­ì— íŒŒì¼ ë“œë¡­
- **File Picker**: "Open File" ë²„íŠ¼ í´ë¦­
- **Clipboard Paste**: ì´ë¯¸ì§€ì—ì„œë§Œ ì§€ì› (`Ctrl/Cmd + V`)

#### LocalStorage ì €ì¥

- **ì €ì¥ ëŒ€ìƒ**: ë§ˆì§€ë§‰ ì‚¬ìš© ì„¤ì •ê°’, íŒŒì´í”„ë¼ì¸ êµ¬ì„±
- **ì €ì¥ ì œì™¸**: íŒŒì¼ ë°”ì´ë„ˆë¦¬ ìì²´ (ìš©ëŸ‰ ë¬¸ì œ)
- **ì €ì¥ í‚¤**:
  - `yowu-devtools:v1:tool:image-studio` (ì´ë¯¸ì§€ ì„¤ì •)
  - `yowu-devtools:v1:tool:video-studio` (ë¹„ë””ì˜¤ ì„¤ì •)

#### Share Link

- **ê³µìœ  ëŒ€ìƒ**: ì„¤ì • í”„ë¦¬ì…‹ë§Œ (crop ì˜ì—­, resize ê°’, format, quality ë“±)
- **ê³µìœ  ì œì™¸**: íŒŒì¼ ë°”ì´ë„ˆë¦¬ (URLì— í¬í•¨ ë¶ˆê°€)
- **í˜•ì‹**: URL fragmentì— lz-string ì••ì¶• JSON

### 3.2 íŒŒì´í”„ë¼ì¸(ê¸°ëŠ¥ ì¡°í•©) UI

#### Pipeline íŒ¨ë„

- ì™¼ìª½ ì‚¬ì´ë“œë°” ë˜ëŠ” ìƒë‹¨ì— ë‹¨ê³„ ëª©ë¡ í‘œì‹œ
- ê° ë‹¨ê³„ enable/disable í† ê¸€
- ë“œë˜ê·¸ë¡œ ë‹¨ê³„ ìˆœì„œ ë³€ê²½ (ì„ íƒì , v1.5.0ì—ì„œëŠ” ê³ ì • ìˆœì„œ ìš°ì„ )
- ë‹¨ê³„ë³„ ì„¤ì • í¼ì¹˜ê¸°/ì ‘ê¸°

#### ì•¡ì…˜ ë²„íŠ¼

| ë²„íŠ¼               | ê¸°ëŠ¥                                                    |
| ------------------ | ------------------------------------------------------- |
| **Run / Export**   | enableëœ ë‹¨ê³„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ â†’ ê²°ê³¼ íŒŒì¼ ìƒì„±            |
| **Manage Presets** | í”„ë¦¬ì…‹ ê´€ë¦¬ ëª¨ë‹¬ ì—´ê¸° (ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°/ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°) |

> **Note**: Reset ë²„íŠ¼ì€ ToolHeaderì— ì´ë¯¸ ì¡´ì¬í•˜ë¯€ë¡œ PipelinePanelì—ì„œëŠ” ì œì™¸í•©ë‹ˆë‹¤.

### 3.2.1 í”„ë¦¬ì…‹ ê´€ë¦¬ (Preset Management Modal)

í”„ë¦¬ì…‹ì€ **ëª¨ë‹¬** í˜•íƒœë¡œ ê´€ë¦¬ë˜ë©°, ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

#### í”„ë¼ì´ë²„ì‹œ ê³ ì§€

ëª¨ë‹¬ ìƒë‹¨ì— ë‹¤ìŒ ë¬¸êµ¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤:

> "Presets are stored locally in your browser only. They are never sent to any server. Use Export/Import to back up or transfer your presets."

#### í”„ë¦¬ì…‹ ì €ì¥

- **í˜„ì¬ ì„¤ì • ì €ì¥**: í˜„ì¬ íŒŒì´í”„ë¼ì¸ ì„¤ì •ì„ ìƒˆ í”„ë¦¬ì…‹ìœ¼ë¡œ ì €ì¥
- **ì…ë ¥ í•„ë“œ**:
  - í”„ë¦¬ì…‹ ì´ë¦„ (í•„ìˆ˜)
  - ì„¤ëª… (ì„ íƒ)
- **ì €ì¥ ëŒ€ìƒ**: enable ìƒíƒœ, ê° ë‹¨ê³„ë³„ ì„¤ì •ê°’, export ì„¤ì •
- **ì œì™¸ ëŒ€ìƒ**: ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ë°”ì´ë„ˆë¦¬, crop ì¢Œí‘œ (ì´ë¯¸ì§€ë³„ ë‹¤ë¦„)

#### í”„ë¦¬ì…‹ ëª©ë¡

- ì €ì¥ëœ í”„ë¦¬ì…‹ ëª©ë¡ í‘œì‹œ
- ê° í•­ëª© ì •ë³´: ì´ë¦„, ì„¤ëª…, ìƒì„±ì¼, í™œì„±í™”ëœ ë‹¨ê³„ íƒœê·¸
- í´ë¦­í•˜ì—¬ ë¶ˆëŸ¬ì˜¤ê¸°
- ì‚­ì œ ë²„íŠ¼

#### ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸° (Export/Import)

| ê¸°ëŠ¥          | ì„¤ëª…                                             |
| ------------- | ------------------------------------------------ |
| **Export**    | ëª¨ë“  í”„ë¦¬ì…‹ì„ JSON íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ               |
| **Import**    | JSON íŒŒì¼ì—ì„œ í”„ë¦¬ì…‹ ê°€ì ¸ì˜¤ê¸° (ê¸°ì¡´ í”„ë¦¬ì…‹ ëŒ€ì²´) |
| **Clear All** | ëª¨ë“  í”„ë¦¬ì…‹ ì‚­ì œ (í™•ì¸ í•„ìš”)                     |

#### íŒŒì¼ í¬ë§·

```json
{
  "version": 1,
  "presets": [
    {
      "id": "1702876543210-abc123def",
      "name": "Social Media 1080p",
      "description": "Instagram/Twitterìš© ì„¤ì •",
      "createdAt": 1702876543210,
      "settings": {
        "cropEnabled": true,
        "cropAspectRatio": "1:1",
        "resizeEnabled": true,
        "resizeWidth": 1080,
        "resizeHeight": 1080,
        "exportFormat": "jpeg",
        "exportQuality": 85
      }
    }
  ]
}
```

#### API Response Diff í”„ë¦¬ì…‹ê³¼ì˜ ìœ ì‚¬ì„±

- LocalStorage ê¸°ë°˜ ì €ì¥
- JSON íŒŒì¼ ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
- ëª¨ë‹¬ UI
- í”„ë¼ì´ë²„ì‹œ ê³ ì§€ ë¬¸êµ¬

### 3.3 ì„±ëŠ¥/í”„ë¦¬ì§• ë°©ì§€

#### ì´ë¯¸ì§€ ì²˜ë¦¬

- **1ì°¨ ê¶Œì¥**: `createImageBitmap()` â†’ Canvas ë Œë” (ë©”ëª¨ë¦¬/ì†ë„ ìœ ë¦¬)
- **2ì°¨ ê¶Œì¥**: OffscreenCanvas + Worker (ë©”ì¸ìŠ¤ë ˆë“œ í”„ë¦¬ì§• ë°©ì§€)
- **í´ë°±**: ë©”ì¸ ìŠ¤ë ˆë“œ Canvas (Worker ë¯¸ì§€ì› í™˜ê²½)

#### ë¹„ë””ì˜¤ ì²˜ë¦¬

- **í•„ìˆ˜**: ffmpeg.wasm ê¸°ë°˜ ì „ìš© Workerì—ì„œë§Œ ì‹¤í–‰
- **ê¸ˆì§€**: ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ffmpeg ì‹¤í–‰
- **ì‹±ê¸€í†¤**: ffmpeg ì¸ìŠ¤í„´ìŠ¤ëŠ” 1ê°œë§Œ ìœ ì§€ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€)

#### ì§„í–‰ ìƒíƒœ í‘œì‹œ

| ë‹¨ê³„                | ì„¤ëª…                               |
| ------------------- | ---------------------------------- |
| `Loading engine...` | ffmpeg ì½”ì–´ ë‹¤ìš´ë¡œë“œ/ì´ˆê¸°í™”        |
| `Preparing...`      | ì…ë ¥ íŒŒì¼ FS write, command ìƒì„±   |
| `Processing... N%`  | ì§„í–‰ë¥  + ê²½ê³¼ ì‹œê°„ + ì˜ˆìƒ ë‚¨ì€ì‹œê°„ |
| `Finalizing...`     | ì¶œë ¥ FS read â†’ Blob ìƒì„±           |

#### ì·¨ì†Œ ê¸°ëŠ¥

- **ë¹„ë””ì˜¤**: Cancel ë²„íŠ¼ í•„ìˆ˜
- **êµ¬í˜„**: Worker terminate í›„ ì¬ìƒì„± (ê°€ì¥ í™•ì‹¤)
- **ëŒ€ì•ˆ**: ì‘ì—… ì¤‘ë‹¨ API ì‹œë„ â†’ ì‹¤íŒ¨ ì‹œ terminate fallback

### 3.4 í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (ê³µí†µ)

| ë‹¨ì¶•í‚¤               | ê¸°ëŠ¥                             |
| -------------------- | -------------------------------- |
| `Ctrl/âŒ˜ + O`         | íŒŒì¼ ì—´ê¸°                        |
| `Ctrl/âŒ˜ + Enter`     | Export ì‹¤í–‰                      |
| `Esc`                | ëª¨ë‹¬ ë‹«ê¸° / ì§„í–‰ ì¤‘ì´ë©´ ì·¨ì†Œí™•ì¸ |
| `Ctrl/âŒ˜ + Shift + R` | íŒŒì´í”„ë¼ì¸ ë¦¬ì…‹                  |

### 3.5 ëª¨ë°”ì¼ ëŒ€ì‘

- **ë ˆì´ì•„ì›ƒ**: 2-column â†’ ì„¸ë¡œ ìŠ¤íƒ ì „í™˜
- **í”„ë¦¬ë·°**: í° í”„ë¦¬ë·° ì˜ì—­ ìš°ì„  í™•ë³´ (ìŠ¤í¬ë¡¤ ìµœì†Œí™”)
- **ê²½ê³ **: ë¹„ë””ì˜¤ ì‘ì—… ì‹œì‘ ì „ "ì˜ˆìƒ ë¦¬ì†ŒìŠ¤ ê²½ê³ " (í° íŒŒì¼/ê¸´ ê¸¸ì´)
- **í„°ì¹˜**: Crop ì˜ì—­ ë“œë˜ê·¸ í„°ì¹˜ ì§€ì›

### 3.6 í”„ë¼ì´ë²„ì‹œ ê³ ì§€

- ê° ë„êµ¬ì— ë‹¤ìŒ ë¬¸êµ¬ í‘œì‹œ:
  > "All processing happens in your browser. No data is sent to any server."

---

## 4. Image Studio (ì´ë¯¸ì§€ í¸ì§‘) ìš”êµ¬ì‚¬í•­

### 4.1 ìƒíƒœ(State) ì •ì˜

```typescript
type ImageStudioState = {
  // íŒŒì¼ ì •ë³´ (ì €ì¥ ì œì™¸, ëŸ°íƒ€ì„ë§Œ)
  fileName?: string;
  fileSize?: number;
  originalWidth?: number;
  originalHeight?: number;

  // íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ í™œì„±í™”
  cropEnabled: boolean;
  resizeEnabled: boolean;
  rotateEnabled: boolean;

  // Crop ì„¤ì •
  cropAspectRatio: 'free' | '1:1' | '4:3' | '16:9' | 'custom';
  cropCustomRatio?: { width: number; height: number };
  cropArea?: { x: number; y: number; width: number; height: number };

  // Resize ì„¤ì •
  resizeWidth?: number;
  resizeHeight?: number;
  resizeLockAspect: boolean;
  resizeMode: 'contain' | 'cover' | 'stretch';
  resizeQuality: 'low' | 'medium' | 'high';

  // Rotate/Flip ì„¤ì •
  rotation: 0 | 90 | 180 | 270;
  flipHorizontal: boolean;
  flipVertical: boolean;

  // Export ì„¤ì •
  exportFormat: 'png' | 'jpeg' | 'webp';
  exportQuality: number; // 0-100, JPEG/WebPë§Œ ì ìš©
  exportSuffix: string; // ê¸°ë³¸: ''
};
```

### 4.2 ì§€ì› ê¸°ëŠ¥(ë‹¨ê³„)

#### 4.2.1 Crop (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-I-CROP-01: í”„ë¦¬ë·°ì—ì„œ ë“œë˜ê·¸ë¡œ ì˜ì—­ ì§€ì •
- FR-I-CROP-02: ë¹„ìœ¨ í”„ë¦¬ì…‹ ì„ íƒ (ììœ , 1:1, 4:3, 16:9, ì‚¬ìš©ì ì§€ì •)
- FR-I-CROP-03: ì‚¬ìš©ì ì§€ì • ë¹„ìœ¨ ì…ë ¥ (width:height)
- FR-I-CROP-04: crop ì˜ì—­ ì¢Œí‘œ(x, y, width, height) ìˆ˜ì¹˜ ì…ë ¥
- FR-I-CROP-05: í”„ë¦¬ë·°ì—ì„œ crop ì˜ì—­ í•¸ë“¤ë¡œ ì¡°ì ˆ
- FR-I-CROP-06: crop ì˜ì—­ ì´ë™ (ë“œë˜ê·¸)

**UI ìš”ì†Œ**:

- ë¹„ìœ¨ ì„ íƒ ë“œë¡­ë‹¤ìš´
- ì‚¬ìš©ì ì§€ì • ë¹„ìœ¨ ì…ë ¥ í•„ë“œ (custom ì„ íƒ ì‹œ)
- ì¢Œí‘œ ìˆ˜ì¹˜ ì…ë ¥ í•„ë“œ (x, y, width, height)
- í”„ë¦¬ë·° ì˜¤ë²„ë ˆì´ (crop ì˜ì—­ ì™¸ë¶€ ì–´ë‘¡ê²Œ)

#### 4.2.2 Resize (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-I-RESIZE-01: width/height í”½ì…€ ê°’ ì…ë ¥
- FR-I-RESIZE-02: ë¹„ìœ¨ ì ê¸ˆ í† ê¸€ (lock aspect ratio)
- FR-I-RESIZE-03: ë¹„ìœ¨ ì ê¸ˆ ì‹œ í•œìª½ ê°’ ë³€ê²½í•˜ë©´ ìë™ ê³„ì‚°
- FR-I-RESIZE-04: ë¦¬ì‚¬ì´ì¦ˆ ëª¨ë“œ ì„ íƒ
  - `contain`: ë¹„ìœ¨ ìœ ì§€, ì—¬ë°± í—ˆìš© (íˆ¬ëª… ë˜ëŠ” ìƒ‰ìƒ)
  - `cover`: ë¹„ìœ¨ ìœ ì§€, ì˜ë¼ì„œ ì±„ì›€
  - `stretch`: ë¹„ìœ¨ ë¬´ì‹œ, ê°•ì œ ë§ì¶¤
- FR-I-RESIZE-05: ë³´ê°„ í’ˆì§ˆ ì„ íƒ (low/medium/high)
  - Canvas `imageSmoothingQuality` ì†ì„± ì‚¬ìš©

**UI ìš”ì†Œ**:

- Width/Height ì…ë ¥ í•„ë“œ + ì ê¸ˆ ì•„ì´ì½˜ í† ê¸€
- ëª¨ë“œ ì„ íƒ ë¼ë””ì˜¤/ë“œë¡­ë‹¤ìš´
- í’ˆì§ˆ ì„ íƒ ë¼ë””ì˜¤/ë“œë¡­ë‹¤ìš´

#### 4.2.3 Rotate/Flip (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-I-ROTATE-01: 90ë„ ë‹¨ìœ„ íšŒì „ (0Â°, 90Â°, 180Â°, 270Â°)
- FR-I-ROTATE-02: ìˆ˜í‰ ë°˜ì „ (Flip Horizontal)
- FR-I-ROTATE-03: ìˆ˜ì§ ë°˜ì „ (Flip Vertical)
- FR-I-ROTATE-04: íšŒì „/ë°˜ì „ì€ ìˆœì„œëŒ€ë¡œ ì ìš© (íšŒì „ â†’ ìˆ˜í‰ ë°˜ì „ â†’ ìˆ˜ì§ ë°˜ì „)

**UI ìš”ì†Œ**:

- íšŒì „ ë²„íŠ¼ (ì‹œê³„ë°©í–¥ 90Â°, ë°˜ì‹œê³„ë°©í–¥ 90Â°)
- í˜„ì¬ íšŒì „ ê°ë„ í‘œì‹œ
- ìˆ˜í‰ ë°˜ì „ í† ê¸€ ë²„íŠ¼
- ìˆ˜ì§ ë°˜ì „ í† ê¸€ ë²„íŠ¼

#### 4.2.4 Convert/Export (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-I-EXPORT-01: í¬ë§· ì„ íƒ (PNG, JPEG, WebP)
- FR-I-EXPORT-02: ë¸Œë¼ìš°ì € ë¯¸ì§€ì› í¬ë§·ì€ UIì—ì„œ ë¹„í™œì„±í™”
  - `canvas.toDataURL('image/webp')` ê²°ê³¼ë¡œ ëŸ°íƒ€ì„ íŒë‹¨
- FR-I-EXPORT-03: JPEG/WebPëŠ” quality(0-100) ìŠ¬ë¼ì´ë” ì œê³µ
- FR-I-EXPORT-04: íŒŒì¼ëª… ê·œì¹™:
  - ê¸°ë³¸: `{originalName}.{ext}`
  - ì„ íƒì  suffix: `{originalName}{suffix}.{ext}`

**UI ìš”ì†Œ**:

- í¬ë§· ì„ íƒ ë“œë¡­ë‹¤ìš´
- í’ˆì§ˆ ìŠ¬ë¼ì´ë” (JPEG/WebP ì„ íƒ ì‹œ)
- íŒŒì¼ëª… suffix ì…ë ¥
- Export ë²„íŠ¼

### 4.3 í”„ë¦¬ë·°/ì¶œë ¥ ë™ì‘

#### íŒŒì¼ ë¡œë“œ ì‹œ

1. ì›ë³¸ ë©”íƒ€ ì •ë³´ í‘œì‹œ: íŒŒì¼ëª…, ìš©ëŸ‰, ê°€ë¡œÃ—ì„¸ë¡œ, ì¶”ì • í¬ë§·
2. í”„ë¦¬ë·° ë Œë”ë§ (fit to container)
3. íŒŒì´í”„ë¼ì¸ ì„¤ì •ì€ ì´ì „ ìƒíƒœ ìœ ì§€ (crop ì˜ì—­ì€ ë¦¬ì…‹)

#### íŒŒì´í”„ë¼ì¸ ë³€ê²½ ì‹œ

1. ì„¤ì • ë³€ê²½ ê°ì§€ (debounce 150~250ms)
2. í”„ë¦¬ë·° ì¦‰ì‹œ ê°±ì‹ 
3. ì˜ˆìƒ ì¶œë ¥ í¬ê¸° í‘œì‹œ

#### Export ì‹¤í–‰ ì‹œ

1. enableëœ ë‹¨ê³„ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬:
   - Crop â†’ Resize â†’ Rotate/Flip â†’ Format ë³€í™˜
2. ìµœì¢… Blob ìƒì„±
3. ìë™ ë‹¤ìš´ë¡œë“œ íŠ¸ë¦¬ê±°

### 4.4 êµ¬í˜„ ì œì•½/ê¶Œì¥ êµ¬í˜„

#### ì´ë¯¸ì§€ ë””ì½”ë”©

```typescript
// ê¶Œì¥: createImageBitmap ì‚¬ìš©
const bitmap = await createImageBitmap(file);
const canvas = document.createElement('canvas');
const ctx = canvas.getContext('2d');
canvas.width = bitmap.width;
canvas.height = bitmap.height;
ctx.drawImage(bitmap, 0, 0);
```

#### OffscreenCanvas Worker (ì„ íƒì )

```typescript
// Worker ë‚´ë¶€
self.onmessage = async (e) => {
  const { imageData, operations } = e.data;
  const canvas = new OffscreenCanvas(width, height);
  const ctx = canvas.getContext('2d');
  // ... ì²˜ë¦¬ ...
  const blob = await canvas.convertToBlob({ type: 'image/png' });
  self.postMessage({ blob });
};
```

#### í¬ë§· ì§€ì› ì²´í¬

```typescript
function isFormatSupported(format: string): boolean {
  const canvas = document.createElement('canvas');
  canvas.width = canvas.height = 1;
  const dataUrl = canvas.toDataURL(`image/${format}`);
  return dataUrl.startsWith(`data:image/${format}`);
}
```

### 4.5 ìˆ˜ìš© ê¸°ì¤€ (Acceptance Criteria)

- **(AC-I1)** 10MB PNG/JPEGë¥¼ ë¡œë“œí•´ë„ UIê°€ ë©ˆì¶”ì§€ ì•ŠëŠ”ë‹¤ (ìŠ¤í¬ë¡¤/ì‚¬ì´ë“œë°” í´ë¦­ ê°€ëŠ¥)
- **(AC-I2)** Crop + Resize + WebP ë³€í™˜ì„ í•œ ë²ˆì— ìˆ˜í–‰í•˜ê³  ê²°ê³¼ ë‹¤ìš´ë¡œë“œê°€ ëœë‹¤
- **(AC-I3)** ë§ˆì§€ë§‰ ì‚¬ìš© ì„¤ì •ì´ ì €ì¥ë˜ì–´ ì¬ì§„ì… ì‹œ ì˜µì…˜ì´ ë³µì›ëœë‹¤ (íŒŒì¼ì€ ë¹„ì–´ìˆì–´ì•¼ í•¨)
- **(AC-I4)** ëª¨ë°”ì¼ì—ì„œ Crop ì˜ì—­ì„ í„°ì¹˜ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤
- **(AC-I5)** Rotate 90Â° + Flip Horizontal ì¡°í•©ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ëœë‹¤
- **(AC-I6)** WebP ë¯¸ì§€ì› ë¸Œë¼ìš°ì €ì—ì„œ í•´ë‹¹ ì˜µì…˜ì´ ë¹„í™œì„±í™”ëœë‹¤

---

## 5. Video Studio (ë¹„ë””ì˜¤ í¸ì§‘) ìš”êµ¬ì‚¬í•­

### 5.1 ê¸°ìˆ  ì„ íƒ

#### ffmpeg.wasm ì‚¬ìš©

```typescript
// ê¶Œì¥ ì„¤ì •
import { FFmpeg } from '@ffmpeg/ffmpeg';
import { toBlobURL } from '@ffmpeg/util';

const ffmpeg = new FFmpeg();

// ì½”ì–´ ë¡œë”© (CORS íšŒí”¼)
await ffmpeg.load({
  coreURL: await toBlobURL(`${baseURL}/ffmpeg-core.js`, 'text/javascript'),
  wasmURL: await toBlobURL(`${baseURL}/ffmpeg-core.wasm`, 'application/wasm'),
});
```

#### Single-thread ì½”ì–´ ì‚¬ìš© (v1.5.0)

- **ì´ìœ **: SharedArrayBuffer ë° COOP/COEP í—¤ë”ê°€ GitHub Pagesì—ì„œ ê¹Œë‹¤ë¡œì›€
- **ëŒ€ì•ˆ**: ì¶”í›„ multi-thread ì½”ì–´ ì§€ì› ê²€í† 

### 5.2 ìƒíƒœ(State) ì •ì˜

```typescript
type VideoStudioState = {
  // íŒŒì¼ ì •ë³´ (ì €ì¥ ì œì™¸, ëŸ°íƒ€ì„ë§Œ)
  fileName?: string;
  fileSize?: number;
  duration?: number; // ì´ˆ ë‹¨ìœ„
  originalWidth?: number;
  originalHeight?: number;

  // íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ í™œì„±í™” (Thumbnailì€ ë³„ë„ ì•¡ì…˜ - ì•„ë˜ ì°¸ê³ )
  trimEnabled: boolean;
  cutEnabled: boolean;
  cropEnabled: boolean;
  resizeEnabled: boolean;

  // Thumbnail ì„¤ì • (íŒŒì´í”„ë¼ì¸ê³¼ ë³„ë„ - ì´ë¯¸ì§€ ì¶œë ¥)
  thumbnailTime: number; // ì´ˆ ë‹¨ìœ„
  thumbnailFormat: 'png' | 'jpeg' | 'webp';

  // Trim ì„¤ì •
  trimStart: number; // ì´ˆ ë‹¨ìœ„
  trimEnd: number; // ì´ˆ ë‹¨ìœ„

  // Cut ì„¤ì •
  cutMode: 'remove' | 'split';
  cutStart: number; // ì´ˆ ë‹¨ìœ„
  cutEnd: number; // ì´ˆ ë‹¨ìœ„

  // Crop ì„¤ì •
  cropAspectRatio: 'free' | '1:1' | '4:3' | '16:9' | 'custom';
  cropArea?: { x: number; y: number; width: number; height: number };

  // Resize ì„¤ì •
  resizeWidth?: number;
  resizeHeight?: number;
  resizeLockAspect: boolean;

  // Export ì„¤ì •
  exportContainer: 'mp4' | 'webm';
  exportQualityPreset: 'fast' | 'balanced' | 'high';
};
```

### 5.3 ì§€ì› ê¸°ëŠ¥

#### 5.3.1 Thumbnail (Quick Action - íŒŒì´í”„ë¼ì¸ ì™¸ë¶€)

> **âš ï¸ ì¤‘ìš”**: Thumbnail ì¶”ì¶œì€ íŒŒì´í”„ë¼ì¸ì˜ ì¼ë¶€ê°€ **ì•„ë‹™ë‹ˆë‹¤**.
>
> - ì¸ë„¤ì¼ì€ **ì´ë¯¸ì§€ íŒŒì¼**ì„ ì¶œë ¥í•˜ê³ , íŒŒì´í”„ë¼ì¸ì€ **ë¹„ë””ì˜¤ íŒŒì¼**ì„ ì¶œë ¥í•©ë‹ˆë‹¤.
> - ë”°ë¼ì„œ Thumbnailì„ ë‹¤ë¥¸ ë‹¨ê³„(Trim, Crop, Resize ë“±)ì™€ ì¡°í•©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
> - UIì—ì„œ ë³„ë„ì˜ "Quick Action" ì„¹ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤.

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-THUMB-01: íŠ¹ì • ì‹œì (ì´ˆ) ì§€ì •
- FR-V-THUMB-02: í•´ë‹¹ í”„ë ˆì„ì„ ì´ë¯¸ì§€ë¡œ ì¶”ì¶œ (PNG/JPEG/WebP)
- FR-V-THUMB-03: "í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ì—ì„œ ì¶”ì¶œ" ë²„íŠ¼
- FR-V-THUMB-04: ì‹œê°„ ì…ë ¥ í˜•ì‹: ì´ˆ ë‹¨ìœ„ ë˜ëŠ” `mm:ss` / `hh:mm:ss`
- FR-V-THUMB-05: íŒŒì´í”„ë¼ì¸ê³¼ ë…ë¦½ì ìœ¼ë¡œ ì¦‰ì‹œ ì‹¤í–‰ (Run & Export ë²„íŠ¼ ì—†ì´ ìì²´ "Extract" ë²„íŠ¼)

**ffmpeg ëª…ë ¹ì–´**:

```bash
ffmpeg -i input.mp4 -ss 10 -frames:v 1 output.png
```

**UI ìš”ì†Œ** (í”„ë¦¬ë·° ì˜ì—­ ì•„ë˜, íŒŒì´í”„ë¼ì¸ íŒ¨ë„ê³¼ ë¶„ë¦¬):

- ì‹œê°„ ì…ë ¥ í•„ë“œ (ì´ˆ ë˜ëŠ” mm:ss)
- íƒ€ì„ë¼ì¸ ìŠ¬ë¼ì´ë”ë¡œ ìœ„ì¹˜ ì„ íƒ
- Quick Select ë²„íŠ¼ (0%, 25%, 50%, 75%, 100%)
- ì¶œë ¥ í¬ë§· ì„ íƒ (PNG/JPEG/WebP)
- **"Extract Thumbnail" ë²„íŠ¼** (ì¦‰ì‹œ ì‹¤í–‰ ë° ë‹¤ìš´ë¡œë“œ)
- ì•ˆë‚´ ë¬¸êµ¬: "ì¸ë„¤ì¼ ì¶”ì¶œì€ ë¹„ë””ì˜¤ íŒŒì´í”„ë¼ì¸ê³¼ ë³„ë„ì˜ ì‘ì—…ì…ë‹ˆë‹¤."

#### 5.3.2 íŒŒì´í”„ë¼ì¸ ë‹¨ê³„

> ì•„ë˜ ë‹¨ê³„ë“¤ì€ íŒŒì´í”„ë¼ì¸ì˜ ì¼ë¶€ë¡œ, í™œì„±í™”ëœ ë‹¨ê³„ë“¤ì´ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ì–´ **í•˜ë‚˜ì˜ ë¹„ë””ì˜¤ íŒŒì¼**ì„ ì¶œë ¥í•©ë‹ˆë‹¤.

##### 5.3.2.1 Trim (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-TRIM-01: start/end ì‹œê°„ ì§€ì • (ì´ˆ ë‹¨ìœ„ + mm:ss ì…ë ¥ ì§€ì›)
- FR-V-TRIM-02: ê²°ê³¼ëŠ” í•´ë‹¹ êµ¬ê°„ë§Œ ë‚¨ê¸´ ë‹¨ì¼ ë¹„ë””ì˜¤
- FR-V-TRIM-03: ì˜¤ë””ì˜¤ë„ ë™ì¼ êµ¬ê°„ìœ¼ë¡œ í¸ì§‘ (ê¸°ë³¸ ë™ì‘)
- FR-V-TRIM-04: ì‹œí¬ë°”ì—ì„œ ë“œë˜ê·¸ë¡œ êµ¬ê°„ ì„ íƒ

**ffmpeg ëª…ë ¹ì–´**:

```bash
ffmpeg -i input.mp4 -ss 10 -to 30 -c copy output.mp4
```

**UI ìš”ì†Œ**:

- Start/End ì‹œê°„ ì…ë ¥ í•„ë“œ
- ë“€ì–¼ í•¸ë“¤ ì‹œí¬ë°” (range slider)
- ì„ íƒ êµ¬ê°„ ë¯¸ë¦¬ë³´ê¸°

##### 5.3.2.2 Cut (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-CUT-01: ë‘ ê°€ì§€ ëª¨ë“œ ì œê³µ
  - **êµ¬ê°„ ì œê±°**: `[0~A] + [B~end]`ë¡œ ì´ì–´ë¶™ì—¬ ë‹¨ì¼ ê²°ê³¼
  - **êµ¬ê°„ ë¶„í• **: ì„ íƒ êµ¬ê°„ ê¸°ì¤€ìœ¼ë¡œ Nê°œ í´ë¦½ ìƒì„±
- FR-V-CUT-02: ë¶„í•  ì‹œ ë‹¤ì¤‘ íŒŒì¼ì€ zipìœ¼ë¡œ ë¬¶ì–´ ë‹¤ìš´ë¡œë“œ (JSZip)
- FR-V-CUT-03: ì‹œê°„ ì…ë ¥ í˜•ì‹: ì´ˆ ë‹¨ìœ„ ë˜ëŠ” mm:ss

**ffmpeg ëª…ë ¹ì–´ (êµ¬ê°„ ì œê±°)**:

```bash
# ë°©ë²• 1: concat filter
ffmpeg -i input.mp4 -filter_complex \
  "[0:v]trim=0:10,setpts=PTS-STARTPTS[v1]; \
   [0:v]trim=20,setpts=PTS-STARTPTS[v2]; \
   [0:a]atrim=0:10,asetpts=PTS-STARTPTS[a1]; \
   [0:a]atrim=20,asetpts=PTS-STARTPTS[a2]; \
   [v1][a1][v2][a2]concat=n=2:v=1:a=1[v][a]" \
  -map "[v]" -map "[a]" output.mp4
```

**UI ìš”ì†Œ**:

- ëª¨ë“œ ì„ íƒ (Remove / Split)
- Cut êµ¬ê°„ ì‹œê°„ ì…ë ¥
- ì‹œí¬ë°”ì—ì„œ êµ¬ê°„ í‘œì‹œ

##### 5.3.2.3 Crop (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-CROP-01: í”„ë¦¬ë·° ìœ„ì—ì„œ crop ì˜ì—­ ì§€ì • (ì´ë¯¸ì§€ cropê³¼ ë™ì¼ UX)
- FR-V-CROP-02: ë¹„ìœ¨ í”„ë¦¬ì…‹ ì œê³µ (1:1, 16:9, 4:3 ë“±)
- FR-V-CROP-03: ì¢Œí‘œ ìˆ˜ì¹˜ ì…ë ¥ (x, y, width, height)

**ffmpeg ëª…ë ¹ì–´**:

```bash
ffmpeg -i input.mp4 -filter:v "crop=640:480:100:50" output.mp4
```

**UI ìš”ì†Œ**:

- ë¹„ìœ¨ ì„ íƒ ë“œë¡­ë‹¤ìš´
- ì¢Œí‘œ ì…ë ¥ í•„ë“œ
- í”„ë¦¬ë·° ì˜¤ë²„ë ˆì´

##### 5.3.2.4 Resize (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-RESIZE-01: ì¶œë ¥ í•´ìƒë„ ì§€ì • (ì˜ˆ: 1280Ã—720)
- FR-V-RESIZE-02: keep aspect toggle
- FR-V-RESIZE-03: ëª¨ë“œ ì„ íƒ (contain/cover/stretch)

**ffmpeg ëª…ë ¹ì–´**:

```bash
# ë¹„ìœ¨ ìœ ì§€ (ì§§ì€ ìª½ ë§ì¶¤)
ffmpeg -i input.mp4 -vf "scale=1280:-1" output.mp4

# íŒ¨ë”© ì¶”ê°€ (contain)
ffmpeg -i input.mp4 -vf "scale=1280:720:force_original_aspect_ratio=decrease,pad=1280:720:(ow-iw)/2:(oh-ih)/2" output.mp4
```

**UI ìš”ì†Œ**:

- Width/Height ì…ë ¥
- ë¹„ìœ¨ ì ê¸ˆ í† ê¸€
- í”„ë¦¬ì…‹ ë²„íŠ¼ (720p, 1080p, 4K ë“±)

##### 5.3.2.5 Export/Convert (í•„ìˆ˜)

**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­**:

- FR-V-EXPORT-01: ì»¨í…Œì´ë„ˆ ì„ íƒ: MP4(ê¸°ë³¸), WebM
- FR-V-EXPORT-02: í’ˆì§ˆ í”„ë¦¬ì…‹:
  - **Fast**: ë¹ ë¥¸ ì¸ì½”ë”©, í° íŒŒì¼
  - **Balanced**: ê· í˜• (ê¸°ë³¸)
  - **High Quality**: ëŠë¦° ì¸ì½”ë”©, ì‘ì€ íŒŒì¼
- FR-V-EXPORT-03: ì˜¤ë””ì˜¤ëŠ” ê¸°ë³¸ "ì›ë³¸ ìœ ì§€"
- FR-V-EXPORT-04: íŒŒì¼ëª… ê·œì¹™: `{originalName}_edited.{ext}`

**ffmpeg ëª…ë ¹ì–´ ì˜ˆì‹œ**:

```bash
# MP4 Balanced
ffmpeg -i input.mp4 -c:v libx264 -preset medium -crf 23 -c:a aac output.mp4

# WebM
ffmpeg -i input.mp4 -c:v libvpx-vp9 -crf 30 -b:v 0 -c:a libopus output.webm
```

**UI ìš”ì†Œ**:

- ì»¨í…Œì´ë„ˆ ì„ íƒ
- í’ˆì§ˆ í”„ë¦¬ì…‹ ì„ íƒ
- Export ë²„íŠ¼

### 5.4 ì§„í–‰ ìƒíƒœ(Progress) í‘œì‹œ ê·œê²©

#### ìƒíƒœ ë‹¨ê³„

```typescript
type ProcessingState =
  | { stage: 'idle' }
  | { stage: 'loading'; message: string } // ffmpeg ì½”ì–´ ë¡œë”©
  | { stage: 'preparing'; message: string } // íŒŒì¼ ì“°ê¸°, ëª…ë ¹ ìƒì„±
  | {
      stage: 'processing';
      progress: number;
      elapsed: number;
      estimated?: number;
    }
  | { stage: 'finalizing'; message: string } // ê²°ê³¼ ì½ê¸°
  | { stage: 'complete'; outputUrl: string }
  | { stage: 'error'; message: string }
  | { stage: 'cancelled' };
```

#### ì§„í–‰ë¥  ì‚°ì •

**1ì°¨: ffmpeg.wasm progress ì´ë²¤íŠ¸**

```typescript
ffmpeg.on('progress', ({ progress, time }) => {
  // progress: 0~1 (ì¼ë¶€ í™˜ê²½ì—ì„œ ë¶€ì •í™•)
  // time: ì²˜ë¦¬ëœ ì‹œê°„ (ë§ˆì´í¬ë¡œì´ˆ)
  setProgress(progress * 100);
});
```

**2ì°¨: ë¡œê·¸ ê¸°ë°˜ ë³´ì™„**

```typescript
ffmpeg.on('log', ({ message }) => {
  // "time=00:01:23.45" íŒŒì‹±í•˜ì—¬ ì§„í–‰ë¥  ê³„ì‚°
  const match = message.match(/time=(\d{2}):(\d{2}):(\d{2}\.\d{2})/);
  if (match) {
    const time =
      parseInt(match[1]) * 3600 +
      parseInt(match[2]) * 60 +
      parseFloat(match[3]);
    const progress = (time / totalDuration) * 100;
    setProgress(progress);
  }
});
```

**3ì°¨: ìŠ¤í”¼ë„ˆ í´ë°±**

- progressê°€ 0/1ë§Œ ëœ¨ëŠ” ê²½ìš° â†’ ìŠ¤í”¼ë„ˆ + stage í‘œì‹œ

#### Cancel êµ¬í˜„

```typescript
// ë°©ë²• 1: Worker terminate (ê°€ì¥ í™•ì‹¤)
function cancelProcessing() {
  if (ffmpegWorker) {
    ffmpegWorker.terminate();
    ffmpegWorker = new Worker(...);
    await loadFFmpeg(); // ì¬ë¡œë“œ í•„ìš”
  }
}

// ë°©ë²• 2: ffmpeg exit (ì§€ì› ì‹œ)
ffmpeg.exit();
```

### 5.5 ë©”ëª¨ë¦¬/ì•ˆì •ì„± ìš”êµ¬ì‚¬í•­

#### ffmpeg ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬

- **ìƒì„± ì‹œì **: Video Studio ë©”ë‰´ ì§„ì… ì‹œ
- **ì‹±ê¸€í†¤ íŒ¨í„´**: ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ì¬ì‚¬ìš©
- **ë¡œë”© í™”ë©´**: ì½”ì–´ ë¡œë”© ì¤‘ ìŠ¤í”¼ë„ˆ í‘œì‹œ

```typescript
// src/tools/video-studio/hooks/useFFmpeg.ts
let ffmpegInstance: FFmpeg | null = null;
let loadingPromise: Promise<void> | null = null;

export function useFFmpeg() {
  const [isLoading, setIsLoading] = useState(true);
  const [isReady, setIsReady] = useState(false);

  useEffect(() => {
    async function init() {
      if (!ffmpegInstance) {
        ffmpegInstance = new FFmpeg();
        loadingPromise = ffmpegInstance.load({...});
      }
      await loadingPromise;
      setIsLoading(false);
      setIsReady(true);
    }
    init();
  }, []);

  return { ffmpeg: ffmpegInstance, isLoading, isReady };
}
```

#### ë©”ëª¨ë¦¬ ì •ë¦¬

```typescript
// ì‘ì—… ì™„ë£Œ í›„
async function cleanup() {
  // ffmpeg FSì—ì„œ íŒŒì¼ ì‚­ì œ
  await ffmpeg.deleteFile('input.mp4');
  await ffmpeg.deleteFile('output.mp4');

  // Blob URL revoke
  if (outputUrl) {
    URL.revokeObjectURL(outputUrl);
  }
}
```

#### ëŒ€ìš©ëŸ‰ íŒŒì¼ ê²½ê³ 

```typescript
const LARGE_FILE_WARNING_SIZE = 300 * 1024 * 1024; // 300MB

if (file.size > LARGE_FILE_WARNING_SIZE) {
  showWarning(
    'Large file detected. Processing may be slow or fail on mobile devices.'
  );
}
```

### 5.6 ìˆ˜ìš© ê¸°ì¤€ (Acceptance Criteria)

- **(AC-V1)** 30ì´ˆ MP4ë¥¼ Trim í›„ MP4ë¡œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥
- **(AC-V2)** Crop + Resize + Exportë¥¼ í•œ ë²ˆì— ìˆ˜í–‰ ê°€ëŠ¥ (íŒŒì´í”„ë¼ì¸ ì¡°í•©)
- **(AC-V3)** ì²˜ë¦¬ ì¤‘ ì§„í–‰ UIê°€ ê³„ì† ì—…ë°ì´íŠ¸ë˜ë©°, Cancelì´ ì‹¤ì œë¡œ ì¤‘ë‹¨í•œë‹¤
- **(AC-V4)** ë‹¤í¬ëª¨ë“œ/ëª¨ë°”ì¼ UIì—ì„œ ì¡°ì‘ ê°€ëŠ¥ (í”„ë¦¬ë·°/ìŠ¬ë¼ì´ë”/ë²„íŠ¼ ê¹¨ì§ ì—†ìŒ)
- **(AC-V5)** Thumbnail ì¶”ì¶œì´ ì§€ì •í•œ ì‹œê°„ì˜ í”„ë ˆì„ì„ ì •í™•íˆ ìº¡ì²˜í•œë‹¤
- **(AC-V6)** Cut(ë¶„í• ) ì‹œ 2ê°œ ì´ìƒì˜ í´ë¦½ì´ zip íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œëœë‹¤
- **(AC-V7)** ffmpeg ì¸ìŠ¤í„´ìŠ¤ê°€ í˜ì´ì§€ ì´ë™ í›„ ì¬ì§„ì… ì‹œì—ë„ ì¬ì‚¬ìš©ëœë‹¤

---

## 6. ë°ì´í„° ëª¨ë¸

### 6.1 íƒ€ì… ì •ì˜

```typescript
// ê³µí†µ íŒŒì´í”„ë¼ì¸ íƒ€ì…
export type PipelineStep = {
  id: string;
  enabled: boolean;
  order: number;
};

// í”„ë¦¬ì…‹ íƒ€ì…
export interface ImagePipelinePreset {
  id: string;
  name: string;
  description?: string;
  createdAt: number;
  settings: {
    // Crop settings
    cropEnabled: boolean;
    cropAspectRatio: string;
    cropCustomRatio: { w: number; h: number };
    // Resize settings
    resizeEnabled: boolean;
    resizeWidth: number;
    resizeHeight: number;
    resizeLockAspect: boolean;
    resizeMode: string;
    resizeQuality: string;
    // Rotate settings
    rotateEnabled: boolean;
    rotation: number;
    flipHorizontal: boolean;
    flipVertical: boolean;
    // Export settings
    exportFormat: string;
    exportQuality: number;
    exportSuffix: string;
  };
}

export interface VideoPipelinePreset {
  id: string;
  name: string;
  description?: string;
  createdAt: number;
  settings: {
    // Thumbnail settings
    thumbnailEnabled: boolean;
    thumbnailTime: number;
    thumbnailFormat: string;
    // Trim settings
    trimEnabled: boolean;
    // Cut settings
    cutEnabled: boolean;
    cutMode: string;
    splitCount: number;
    // Crop settings
    cropEnabled: boolean;
    // Resize settings
    resizeEnabled: boolean;
    resizeWidth: number;
    resizeHeight: number;
    resizeLockAspect: boolean;
    resizeMode: string;
    // Export settings
    exportFormat: string;
    qualityPreset: string;
    exportSuffix: string;
  };
}

// í”„ë¦¬ì…‹ ì €ì¥ì†Œ íƒ€ì…
export interface PipelinePresetsStore {
  version: number;
  presets: ImagePipelinePreset[] | VideoPipelinePreset[];
}

// ì²˜ë¦¬ ê²°ê³¼ íƒ€ì…
export type ProcessingResult = {
  success: boolean;
  outputBlob?: Blob;
  outputUrl?: string;
  error?: string;
  duration?: number; // ì²˜ë¦¬ ì‹œê°„ (ms)
};
```

### 6.2 LocalStorage í‚¤

| í‚¤                                           | ìš©ë„                     |
| -------------------------------------------- | ------------------------ |
| `yowu-devtools:v1:tool:image-studio`         | Image Studio ìƒíƒœ        |
| `yowu-devtools:v1:tool:video-studio`         | Video Studio ìƒíƒœ        |
| `yowu-devtools:v1:tool:image-studio:presets` | Image Studio í”„ë¦¬ì…‹ ëª©ë¡ |
| `yowu-devtools:v1:tool:video-studio:presets` | Video Studio í”„ë¦¬ì…‹ ëª©ë¡ |

### 6.3 ê³µìœ  URL ìŠ¤í‚¤ë§ˆ

```json
{
  "v": 1,
  "tool": "image-studio",
  "state": {
    "cropEnabled": true,
    "cropAspectRatio": "16:9",
    "resizeEnabled": true,
    "resizeWidth": 1920,
    "resizeHeight": 1080,
    "exportFormat": "webp",
    "exportQuality": 85
  }
}
```

---

## 7. í”„ë¡œì íŠ¸ êµ¬ì¡°

### 7.1 íŒŒì¼/ëª¨ë“ˆ ìœ„ì¹˜

```
apps/web/src/
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ image-studio/
â”‚   â”‚   â”œâ”€â”€ index.tsx                    # ë©”ì¸ ì»´í¬ë„ŒíŠ¸ ë° ë„êµ¬ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ types.ts                     # íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ constants.ts                 # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts                 # ì»´í¬ë„ŒíŠ¸ ì¸ë±ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ ImagePreview.tsx         # ì´ë¯¸ì§€ í”„ë¦¬ë·° + Crop ì˜¤ë²„ë ˆì´
â”‚   â”‚   â”‚   â”œâ”€â”€ PipelinePanel.tsx        # íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ ëª©ë¡ + ì•¡ì…˜ ë²„íŠ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ PipelinePresetModal.tsx  # í”„ë¦¬ì…‹ ê´€ë¦¬ ëª¨ë‹¬
â”‚   â”‚   â”‚   â”œâ”€â”€ CropPanel.tsx            # Crop ì„¤ì • íŒ¨ë„
â”‚   â”‚   â”‚   â”œâ”€â”€ ResizePanel.tsx          # Resize ì„¤ì • íŒ¨ë„
â”‚   â”‚   â”‚   â”œâ”€â”€ RotatePanel.tsx          # Rotate/Flip ì„¤ì • íŒ¨ë„
â”‚   â”‚   â”‚   â””â”€â”€ ExportPanel.tsx          # Export ì„¤ì • íŒ¨ë„
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts                 # í›… ì¸ë±ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ useImageProcessor.ts     # ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§ (TODO)
â”‚   â”‚   â”‚   â””â”€â”€ usePipelinePresets.ts    # í”„ë¦¬ì…‹ ê´€ë¦¬ (localStorage ê¸°ë°˜)
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ index.ts           # ìœ í‹¸ë¦¬í‹° ì¸ë±ìŠ¤
â”‚   â”‚       â”œâ”€â”€ canvas.ts          # Canvas ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚       â””â”€â”€ format.ts          # í¬ë§· ì§€ì› ì²´í¬
â”‚   â”‚
â”‚   â””â”€â”€ video-studio/
â”‚       â”œâ”€â”€ index.tsx                    # ë©”ì¸ ì»´í¬ë„ŒíŠ¸ ë° ë„êµ¬ ì •ì˜
â”‚       â”œâ”€â”€ types.ts                     # íƒ€ì… ì •ì˜
â”‚       â”œâ”€â”€ constants.ts                 # ìƒìˆ˜ ì •ì˜
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ index.ts                 # ì»´í¬ë„ŒíŠ¸ ì¸ë±ìŠ¤
â”‚       â”‚   â”œâ”€â”€ VideoPreview.tsx         # ë¹„ë””ì˜¤ í”„ë¦¬ë·° + ì»¨íŠ¸ë¡¤
â”‚       â”‚   â”œâ”€â”€ PipelinePanel.tsx        # íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ ëª©ë¡ + ì•¡ì…˜ ë²„íŠ¼
â”‚       â”‚   â”œâ”€â”€ PipelinePresetModal.tsx  # í”„ë¦¬ì…‹ ê´€ë¦¬ ëª¨ë‹¬
â”‚       â”‚   â”œâ”€â”€ ThumbnailPanel.tsx       # Thumbnail ì„¤ì • íŒ¨ë„
â”‚       â”‚   â”œâ”€â”€ TrimPanel.tsx            # Trim ì„¤ì • íŒ¨ë„
â”‚       â”‚   â”œâ”€â”€ CutPanel.tsx             # Cut ì„¤ì • íŒ¨ë„
â”‚       â”‚   â”œâ”€â”€ CropPanel.tsx            # Crop ì„¤ì • íŒ¨ë„
â”‚       â”‚   â”œâ”€â”€ ResizePanel.tsx          # Resize ì„¤ì • íŒ¨ë„
â”‚       â”‚   â””â”€â”€ ExportPanel.tsx          # Export ì„¤ì • íŒ¨ë„
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ index.ts                 # í›… ì¸ë±ìŠ¤
â”‚       â”‚   â”œâ”€â”€ useFFmpeg.ts             # ffmpeg ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ (TODO)
â”‚       â”‚   â”œâ”€â”€ useVideoProcessor.ts     # ë¹„ë””ì˜¤ ì²˜ë¦¬ ë¡œì§ (TODO)
â”‚       â”‚   â””â”€â”€ usePipelinePresets.ts    # í”„ë¦¬ì…‹ ê´€ë¦¬ (localStorage ê¸°ë°˜)
â”‚       â”‚   â””â”€â”€ usePresets.ts      # í”„ë¦¬ì…‹ ê´€ë¦¬
â”‚       â””â”€â”€ utils/
â”‚           â”œâ”€â”€ index.ts           # ìœ í‹¸ë¦¬í‹° ì¸ë±ìŠ¤
â”‚           â”œâ”€â”€ ffmpegCommands.ts  # ffmpeg ëª…ë ¹ì–´ ë¹Œë”
â”‚           â”œâ”€â”€ timeFormat.ts      # ì‹œê°„ í¬ë§· ë³€í™˜
â”‚           â””â”€â”€ zipDownload.ts     # ë‹¤ì¤‘ íŒŒì¼ zip ë‹¤ìš´ë¡œë“œ
â”‚
â”œâ”€â”€ workers/
â”‚   â”œâ”€â”€ image-processor.worker.ts  # ì´ë¯¸ì§€ ì²˜ë¦¬ Worker (ê¸°ì¡´ í™•ì¥)
â”‚   â””â”€â”€ ffmpeg.worker.ts           # ffmpeg ì „ìš© Worker (ì‹ ê·œ)
â”‚
â””â”€â”€ hooks/
    â””â”€â”€ useMediaFile.ts            # ë¯¸ë””ì–´ íŒŒì¼ ì…ë ¥ ê³µí†µ í›… (ì‹ ê·œ)

packages/shared/src/
â””â”€â”€ types/
    â””â”€â”€ media.ts                   # ê³µìœ  ë¯¸ë””ì–´ íƒ€ì… (ì„ íƒì )
```

### 7.2 Tool Registry ë“±ë¡

```typescript
// apps/web/src/tools/index.ts
import { imageStudioTool } from './image-studio';
import { videoStudioTool } from './video-studio';

export const tools: ToolDefinition[] = [
  // ... ê¸°ì¡´ ë„êµ¬ë“¤
  imageStudioTool,
  videoStudioTool,
];
```

### 7.3 ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬       | ë²„ì „    | ìš©ë„                        |
| ---------------- | ------- | --------------------------- |
| `@ffmpeg/ffmpeg` | ^0.12.x | ffmpeg.wasm ì½”ì–´            |
| `@ffmpeg/util`   | ^0.12.x | ffmpeg ìœ í‹¸ë¦¬í‹° (toBlobURL) |
| `jszip`          | ^3.10.x | ë‹¤ì¤‘ íŒŒì¼ zip ë‹¤ìš´ë¡œë“œ      |

---

## 8. i18n ì§€ì›

### 8.1 ì§€ì› ì–¸ì–´

- en-US (ê¸°ë³¸)
- ko-KR
- ja-JP
- zh-CN
- es-ES

### 8.2 ë²ˆì—­ í‚¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤

```typescript
// ì‹ ê·œ í‚¤ ì¶”ê°€
tool.imageStudio.*      // Image Studio UI ë¬¸ìì—´
tool.videoStudio.*      // Video Studio UI ë¬¸ìì—´
meta.imageStudio.*      // Image Studio SEO ë©”íƒ€
meta.videoStudio.*      // Video Studio SEO ë©”íƒ€
common.pipeline.*       // íŒŒì´í”„ë¼ì¸ ê³µí†µ ë¬¸ìì—´
common.export.*         // Export ê³µí†µ ë¬¸ìì—´
common.progress.*       // ì§„í–‰ ìƒíƒœ ê³µí†µ ë¬¸ìì—´
common.media.*          // ë¯¸ë””ì–´ ê³µí†µ ë¬¸ìì—´
```

### 8.3 ì£¼ìš” ë²ˆì—­ í‚¤

```typescript
// Image Studio
tool.imageStudio: {
  title: 'Image Studio',
  description: 'Crop, resize, rotate, and convert images',
  crop: {
    title: 'Crop',
    aspectRatio: 'Aspect Ratio',
    free: 'Free',
    custom: 'Custom',
    coordinates: 'Coordinates',
  },
  resize: {
    title: 'Resize',
    width: 'Width',
    height: 'Height',
    lockAspect: 'Lock aspect ratio',
    mode: 'Mode',
    contain: 'Contain (fit with padding)',
    cover: 'Cover (crop to fill)',
    stretch: 'Stretch (ignore ratio)',
    quality: 'Interpolation quality',
  },
  rotate: {
    title: 'Rotate / Flip',
    rotateLeft: 'Rotate 90Â° left',
    rotateRight: 'Rotate 90Â° right',
    flipHorizontal: 'Flip horizontal',
    flipVertical: 'Flip vertical',
  },
  export: {
    title: 'Export',
    format: 'Format',
    quality: 'Quality',
    download: 'Download',
  },
},

// Video Studio
tool.videoStudio: {
  title: 'Video Studio',
  description: 'Trim, crop, resize, and convert videos',
  loadingEngine: 'Loading video engine...',
  thumbnail: {
    title: 'Thumbnail',
    time: 'Time',
    useCurrentPosition: 'Use current position',
    extract: 'Extract thumbnail',
  },
  trim: {
    title: 'Trim',
    start: 'Start',
    end: 'End',
    duration: 'Duration',
  },
  cut: {
    title: 'Cut',
    mode: 'Mode',
    remove: 'Remove segment',
    split: 'Split into clips',
  },
  // ... ê¸°íƒ€ í‚¤
},

// ê³µí†µ ì§„í–‰ ìƒíƒœ
common.progress: {
  loading: 'Loading...',
  preparing: 'Preparing...',
  processing: 'Processing...',
  finalizing: 'Finalizing...',
  complete: 'Complete!',
  cancelled: 'Cancelled',
  error: 'Error occurred',
  cancel: 'Cancel',
  elapsed: 'Elapsed',
  remaining: 'Remaining',
},
```

---

## 9. SEO ìµœì í™”

### 9.1 Image Studio ë©”íƒ€ ì •ë³´

```typescript
{
  id: 'image-studio',
  path: '/image-studio',
  title: 'Image Studio',
  description: 'Crop, resize, rotate, and convert images',
  seoDescription: 'Free online image editor. Crop, resize, rotate, flip, and convert images to PNG, JPEG, or WebP. Pipeline-based editing with presets. All processing happens in your browser - no data sent to servers.',
  keywords: [
    'image editor',
    'image crop',
    'image resize',
    'image converter',
    'png to jpeg',
    'png to webp',
    'image rotate',
    'online image tool',
    'browser image editor',
    'privacy-first image editor',
  ],
  features: [
    'Crop with aspect ratio presets',
    'Resize with quality options',
    'Rotate 90Â° and flip',
    'Convert to PNG, JPEG, WebP',
    'Pipeline-based editing',
    'Save and share presets',
  ],
}
```

### 9.2 Video Studio ë©”íƒ€ ì •ë³´

```typescript
{
  id: 'video-studio',
  path: '/video-studio',
  title: 'Video Studio',
  description: 'Trim, crop, resize, and convert videos',
  seoDescription: 'Free online video editor. Trim, cut, crop, resize videos and extract thumbnails. Export to MP4 or WebM. Powered by ffmpeg.wasm - all processing happens in your browser, no uploads required.',
  keywords: [
    'video editor',
    'video trim',
    'video crop',
    'video resize',
    'video converter',
    'mp4 to webm',
    'video thumbnail',
    'online video tool',
    'browser video editor',
    'ffmpeg online',
  ],
  features: [
    'Trim video segments',
    'Cut and split videos',
    'Crop video frame',
    'Resize to any resolution',
    'Extract thumbnails',
    'Export to MP4 or WebM',
  ],
}
```

---

## 10. ì—ëŸ¬ ì²˜ë¦¬

### 10.1 Image Studio ì—ëŸ¬

| ì—ëŸ¬ ìƒí™©            | ë©”ì‹œì§€                                           |
| -------------------- | ------------------------------------------------ |
| íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨       | "Failed to load image. Please try another file." |
| ì§€ì›í•˜ì§€ ì•ŠëŠ” í¬ë§·   | "Unsupported image format."                      |
| íŒŒì¼ í¬ê¸° ì´ˆê³¼       | "File is too large. Maximum size is 50MB."       |
| Canvas ë Œë”ë§ ì‹¤íŒ¨   | "Failed to process image."                       |
| WebP ë¯¸ì§€ì› ë¸Œë¼ìš°ì € | "WebP is not supported in this browser."         |
| Export ì‹¤íŒ¨          | "Failed to export image."                        |

### 10.2 Video Studio ì—ëŸ¬

| ì—ëŸ¬ ìƒí™©           | ë©”ì‹œì§€                                                       |
| ------------------- | ------------------------------------------------------------ |
| ffmpeg ë¡œë“œ ì‹¤íŒ¨    | "Failed to load video engine. Please refresh and try again." |
| íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨      | "Failed to load video. Please try another file."             |
| ì§€ì›í•˜ì§€ ì•ŠëŠ” í¬ë§·  | "Unsupported video format."                                  |
| íŒŒì¼ í¬ê¸° ì´ˆê³¼      | "File is too large for browser processing."                  |
| ì²˜ë¦¬ ì¤‘ ë©”ëª¨ë¦¬ ë¶€ì¡± | "Out of memory. Try a smaller file or shorter duration."     |
| ì²˜ë¦¬ íƒ€ì„ì•„ì›ƒ       | "Processing timed out. Try a smaller file."                  |
| Export ì‹¤íŒ¨         | "Failed to export video."                                    |
| ì‚¬ìš©ì ì·¨ì†Œ         | "Processing cancelled."                                      |

### 10.3 ì—ëŸ¬ í‘œì‹œ

- `ErrorBanner` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© (ê¸°ì¡´ íŒ¨í„´)
- Toast ì•Œë¦¼ (sonner)
- ìƒì„¸ ì—ëŸ¬ëŠ” collapsible ì˜ì—­ì— í‘œì‹œ

---

## 11. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

### 11.1 Image Studio í…ŒìŠ¤íŠ¸

1. **íŒŒì¼ ë¡œë“œ**: PNG/JPEG/WebP ë¡œë“œ ë° ë©”íƒ€ ì •ë³´ í‘œì‹œ
2. **Drag & Drop**: íŒŒì¼ ë“œë¡­ìœ¼ë¡œ ì´ë¯¸ì§€ ë¡œë“œ
3. **Clipboard Paste**: Ctrl+Vë¡œ í´ë¦½ë³´ë“œ ì´ë¯¸ì§€ ë¶™ì—¬ë„£ê¸°
4. **Crop**: ììœ ë¹„ìœ¨/ê³ ì •ë¹„ìœ¨ crop ì˜ì—­ ì§€ì • ë° ì ìš©
5. **Resize**: ë¹„ìœ¨ ì ê¸ˆ on/off ë™ì‘, ëª¨ë“œë³„ ê²°ê³¼ í™•ì¸
6. **Rotate/Flip**: 90Â° íšŒì „ ë° ë°˜ì „ ì¡°í•© ì ìš©
7. **Export**: PNG/JPEG/WebP ë³€í™˜, í’ˆì§ˆ ì¡°ì ˆ ê²°ê³¼ í™•ì¸
8. **Pipeline**: Crop + Resize + Export ì¡°í•© ì‹¤í–‰
9. **Preset**: í”„ë¦¬ì…‹ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°/ê³µìœ 
10. **ëª¨ë°”ì¼**: í„°ì¹˜ë¡œ crop ì˜ì—­ ì¡°ì ˆ
11. **ëŒ€ìš©ëŸ‰ íŒŒì¼**: 10MB ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ UI ì‘ë‹µì„±

### 11.2 Video Studio í…ŒìŠ¤íŠ¸

1. **ffmpeg ë¡œë“œ**: ì½”ì–´ ë¡œë”© ë° Ready ìƒíƒœ ì „í™˜
2. **íŒŒì¼ ë¡œë“œ**: MP4/WebM ë¡œë“œ ë° ë©”íƒ€ ì •ë³´ í‘œì‹œ
3. **Thumbnail**: ì§€ì • ì‹œê°„ í”„ë ˆì„ ì¶”ì¶œ
4. **Trim**: ì‹œì‘/ì¢…ë£Œ ì‹œê°„ ì§€ì • êµ¬ê°„ ì¶”ì¶œ
5. **Cut Remove**: êµ¬ê°„ ì œê±° í›„ ë‹¨ì¼ ë¹„ë””ì˜¤ ìƒì„±
6. **Cut Split**: êµ¬ê°„ ë¶„í•  í›„ zip ë‹¤ìš´ë¡œë“œ
7. **Crop**: ë¹„ë””ì˜¤ í”„ë ˆì„ crop ì ìš©
8. **Resize**: í•´ìƒë„ ë³€ê²½ ì ìš©
9. **Export**: MP4/WebM ë³€í™˜, í’ˆì§ˆ í”„ë¦¬ì…‹ ì ìš©
10. **Progress**: ì§„í–‰ë¥  í‘œì‹œ ë° ì—…ë°ì´íŠ¸
11. **Cancel**: ì²˜ë¦¬ ì¤‘ ì·¨ì†Œ ë™ì‘
12. **Pipeline**: Trim + Crop + Resize ì¡°í•© ì‹¤í–‰
13. **ëª¨ë°”ì¼**: í„°ì¹˜ë¡œ íƒ€ì„ë¼ì¸ ì¡°ì‘
14. **ëŒ€ìš©ëŸ‰ ê²½ê³ **: 300MB ì´ìƒ íŒŒì¼ ê²½ê³  í‘œì‹œ

---

## 12. ìˆ˜ìš© ê¸°ì¤€ ìš”ì•½

### Image Studio

| ID    | ê¸°ì¤€                                        |
| ----- | ------------------------------------------- |
| AC-I1 | 10MB PNG/JPEG ë¡œë“œí•´ë„ UI ë©ˆì¶”ì§€ ì•ŠìŒ       |
| AC-I2 | Crop + Resize + WebP ë³€í™˜ í•œ ë²ˆì— ìˆ˜í–‰ ê°€ëŠ¥ |
| AC-I3 | ë§ˆì§€ë§‰ ì„¤ì • ì €ì¥ë˜ì–´ ì¬ì§„ì… ì‹œ ë³µì›ë¨       |
| AC-I4 | ëª¨ë°”ì¼ì—ì„œ í„°ì¹˜ë¡œ Crop ì˜ì—­ ì¡°ì ˆ ê°€ëŠ¥       |
| AC-I5 | Rotate + Flip ì¡°í•© ì˜¬ë°”ë¥´ê²Œ ì ìš©ë¨          |
| AC-I6 | WebP ë¯¸ì§€ì› ë¸Œë¼ìš°ì €ì—ì„œ ì˜µì…˜ ë¹„í™œì„±í™”ë¨    |

### Video Studio

| ID    | ê¸°ì¤€                                             |
| ----- | ------------------------------------------------ |
| AC-V1 | 30ì´ˆ MP4 Trim í›„ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥                   |
| AC-V2 | Crop + Resize + Export íŒŒì´í”„ë¼ì¸ ì¡°í•© ìˆ˜í–‰ ê°€ëŠ¥ |
| AC-V3 | ì²˜ë¦¬ ì¤‘ ì§„í–‰ UI ì—…ë°ì´íŠ¸, Cancel ë™ì‘í•¨          |
| AC-V4 | ë‹¤í¬ëª¨ë“œ/ëª¨ë°”ì¼ UI ê¹¨ì§ ì—†ìŒ                     |
| AC-V5 | Thumbnail ì§€ì • ì‹œê°„ í”„ë ˆì„ ì •í™•íˆ ìº¡ì²˜           |
| AC-V6 | Cut ë¶„í•  ì‹œ ë‹¤ì¤‘ í´ë¦½ zip ë‹¤ìš´ë¡œë“œë¨             |
| AC-V7 | ffmpeg ì¸ìŠ¤í„´ìŠ¤ í˜ì´ì§€ ì¬ì§„ì… ì‹œ ì¬ì‚¬ìš©ë¨        |

---

## 13. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: Image Studio ê¸°ë³¸ êµ¬ì¡° (ìš°ì„ ìˆœìœ„ ë†’ìŒ)

1. [ ] ë„êµ¬ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
2. [ ] íƒ€ì… ë° ìƒìˆ˜ ì •ì˜
3. [ ] íŒŒì¼ ì…ë ¥ ì»´í¬ë„ŒíŠ¸ (FileInput í™•ì¥)
4. [ ] ì´ë¯¸ì§€ í”„ë¦¬ë·° ì»´í¬ë„ŒíŠ¸
5. [ ] useToolState í†µí•©

### Phase 2: Image Studio ê¸°ëŠ¥ êµ¬í˜„

1. [ ] Crop ê¸°ëŠ¥ êµ¬í˜„ (ë“œë˜ê·¸ ì˜ì—­ ì§€ì •)
2. [ ] Resize ê¸°ëŠ¥ êµ¬í˜„
3. [ ] Rotate/Flip ê¸°ëŠ¥ êµ¬í˜„
4. [ ] Export ê¸°ëŠ¥ êµ¬í˜„ (í¬ë§· ë³€í™˜)
5. [ ] íŒŒì´í”„ë¼ì¸ ì¡°í•© ë° ì‹¤í–‰
6. [ ] í”„ë¦¬ì…‹ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°

### Phase 3: Video Studio ê¸°ë³¸ êµ¬ì¡°

1. [ ] ë„êµ¬ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
2. [ ] ffmpeg.wasm í†µí•© ë° Worker ì„¤ì •
3. [ ] ë¹„ë””ì˜¤ í”„ë¦¬ë·° ì»´í¬ë„ŒíŠ¸
4. [ ] íƒ€ì„ë¼ì¸/ì‹œí¬ë°” ì»´í¬ë„ŒíŠ¸
5. [ ] useFFmpeg í›… êµ¬í˜„

### Phase 4: Video Studio ê¸°ëŠ¥ êµ¬í˜„

1. [ ] Thumbnail ê¸°ëŠ¥ êµ¬í˜„
2. [ ] Trim ê¸°ëŠ¥ êµ¬í˜„
3. [ ] Cut ê¸°ëŠ¥ êµ¬í˜„ (Remove + Split)
4. [ ] Crop ê¸°ëŠ¥ êµ¬í˜„
5. [ ] Resize ê¸°ëŠ¥ êµ¬í˜„
6. [ ] Export ê¸°ëŠ¥ êµ¬í˜„
7. [ ] ì§„í–‰ ìƒíƒœ í‘œì‹œ ë° Cancel

### Phase 5: ê³µí†µ ê¸°ëŠ¥ ë° ë§ˆë¬´ë¦¬

1. [ ] í”„ë¦¬ì…‹ ê³µìœ  (URL fragment)
2. [ ] i18n ë¦¬ì†ŒìŠ¤ ì¶”ê°€ (5ê°œ ì–¸ì–´)
3. [ ] SEO ìµœì í™” (vite-plugin-generate-routes.ts)
4. [ ] ëª¨ë°”ì¼ ëŒ€ì‘ í…ŒìŠ¤íŠ¸
5. [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

## 14. ì°¸ê³  ìë£Œ

### ê¸°ìˆ  ë¬¸ì„œ

- [MDN: HTMLCanvasElement.toDataURL()](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL)
- [MDN: OffscreenCanvas](https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas)
- [MDN: createImageBitmap()](https://developer.mozilla.org/en-US/docs/Web/API/createImageBitmap)
- [ffmpeg.wasm ê³µì‹ ë¬¸ì„œ](https://ffmpegwasm.netlify.app/docs/getting-started/usage/)
- [ffmpeg ê³µì‹ ë¬¸ì„œ](https://ffmpeg.org/ffmpeg.html)

### GitHub Issues (ffmpeg.wasm)

- [Progress ì´ë²¤íŠ¸ ë¶€ì •í™• ì´ìŠˆ #112](https://github.com/ffmpegwasm/ffmpeg.wasm/issues/112)
- [ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì´ìŠˆ #200](https://github.com/ffmpegwasm/ffmpeg.wasm/issues/200)
- [SharedArrayBuffer ì´ìŠˆ #263](https://github.com/ffmpegwasm/ffmpeg.wasm/issues/263)

### í”„ë¡œì íŠ¸ ë‚´ë¶€ ë¬¸ì„œ

- `SAS.md`: ì „ì²´ ìš”êµ¬ì‚¬í•­ ëª…ì„¸
- `AGENTS.md`: AI Agent ì‘ì—… ê°€ì´ë“œ
- `apps/web/src/workers/`: ê¸°ì¡´ Worker êµ¬í˜„ ì°¸ì¡°

---

## 15. ë³€ê²½ ì´ë ¥

| ë‚ ì§œ       | ë²„ì „   | ë³€ê²½ ë‚´ìš©               |
| ---------- | ------ | ----------------------- |
| 2025-12-18 | v1.5.0 | ì´ˆê¸° ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ ì‘ì„± |

---

## 16. ìš©ì–´ ì •ì˜

| ìš©ì–´            | ì •ì˜                                                        |
| --------------- | ----------------------------------------------------------- |
| Pipeline        | ì—¬ëŸ¬ í¸ì§‘ ë‹¨ê³„ë¥¼ ìˆœì„œëŒ€ë¡œ ì¡°í•©í•˜ì—¬ ì¼ê´„ ì‹¤í–‰í•˜ëŠ” ì›Œí¬í”Œë¡œìš° |
| Preset          | íŒŒì´í”„ë¼ì¸ ì„¤ì •ì„ ì €ì¥í•œ JSON ë°ì´í„°                        |
| Crop            | ì´ë¯¸ì§€/ë¹„ë””ì˜¤ì˜ íŠ¹ì • ì˜ì—­ë§Œ ì˜ë¼ë‚´ëŠ” ì‘ì—…                   |
| Trim            | ë¹„ë””ì˜¤ì˜ ì‹œì‘/ì¢…ë£Œ ì‹œê°„ì„ ì§€ì •í•˜ì—¬ êµ¬ê°„ì„ ì¶”ì¶œí•˜ëŠ” ì‘ì—…     |
| Cut             | ë¹„ë””ì˜¤ì˜ íŠ¹ì • êµ¬ê°„ì„ ì œê±°í•˜ê±°ë‚˜ ë¶„í• í•˜ëŠ” ì‘ì—…               |
| Thumbnail       | ë¹„ë””ì˜¤ì˜ íŠ¹ì • í”„ë ˆì„ì„ ì´ë¯¸ì§€ë¡œ ì¶”ì¶œí•˜ëŠ” ì‘ì—…               |
| ffmpeg.wasm     | ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•œ ffmpegì˜ WebAssembly ë²„ì „          |
| OffscreenCanvas | Workerì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ Canvas API                           |

---

_ë_
